<template>    <v-container fill-height>        <v-layout wrap >            <v-flex                    text-xs-right                    xs12                    md8            >                <v-text-field                        label="Domain name"                        v-model="newDomain"                        class="add-domains-field"                        required                >                </v-text-field>                <v-btn                        @click="addDomain"                        :disabled="isDisabled"                >                    Link to this app                </v-btn>            </v-flex>            <v-data-table                    :headers="headers"                    :items="domains"                    class="card-apps"            >                <template slot="items" slot-scope="props">                    <td >{{ props.item.name }}</td>                    <td class="text-xs-left">{{ props.item.id }}</td>                    <td v-if="!props.item.ssl" class="text-xs-left">Disabled</td>                    <td v-else class="text-xs-left">Enabled</td>                    <td class="text-xs-left">{{ props.item.created_at }}</td>                    <td>                        <v-btn                                flat                                icon                                color="red"                                @click="deleteApp(props.item.id)"                        >                            <v-icon>highlight_off</v-icon>                        </v-btn>                    </td>                </template>            </v-data-table>        </v-layout>        <v-snackbar                v-model="snackbar"                bottom                center                :timeout="timeout"                :color="color"        >            {{ snackmsg }}            <v-btn                    flat                    @click="snackbar = false"            >                Close            </v-btn>        </v-snackbar>    </v-container></template><script>    import mainApi from "..//api/mainApi";    export default {        name: "AppsSettings",        data: function () {            return {                isDisabled: true,                snackbar: false,                color: "",                timeout: 6000,                valid: true,                domains: [],                dialog: false,                deleteActive: false,                newDomain: "",                snackmsg: "",                headers: [                    {                        text: 'Domains',                        align: 'left',                        sortable: false,                        value: 'name'                    },                    { text: 'Id', value: 'Id'},                    { text: 'Status', value: 'Status' },                    { text: 'Creation', value: 'Creation' },                    { text: 'Settings', value: 'Settings' }                ],            }        },        methods: {            deleteApp(domainsId) {                mainApi().delete('apps/' + this.$route.params.name + '/domains/' + domainsId, {})                    .then(response => {                        const tmp = [];                        this.domains.forEach(function(elem) {                            if (elem.id !== domainsId)                                tmp.push(elem);                        });                        this.domains = tmp;                        this.color = "warning";                        this.snackmsg = "Domain successfully deleted.";                        this.snackbar = true;                    }).catch(e => {                        this.color = "error";                        this.snackmsg = "An error has occurred.";                        this.snackbar = true;                })            },            addDomain() {                mainApi().post('apps/' + this.$route.params.name + "/domains", {                    domain: {                        name: this.newDomain                    }                }).then(response => {                    this.domains.push(response.data.domain);                    this.newDomain = "";                    this.color = "success";                    this.snackmsg = "Domain successfully added.";                    this.snackbar = true;                }).catch(e => {                    this.color = "error";                    this.snackmsg = "Domain already taken or wrong format.";                    this.snackbar = true;                })            }        },        created() {            this.$multiwatch(['newDomain'], function() {                this.isDisabled = this.newDomain === "";            });            mainApi().get('/apps/' + this.$route.params.name + '/domains', {})                .then(response => {                    this.domains = response.data.domains;                }).catch(e => {                    this.color = "error";                    this.snackmsg = "An error has occured : " + e;                    this.snackbar = true;            })        }    }</script><style scoped>    .add-domains-field {        padding-top: 7em;    }    .card-apps {        padding-top: 7em;        height: 100%;        width: 100%;        margin-right: auto;    }</style>