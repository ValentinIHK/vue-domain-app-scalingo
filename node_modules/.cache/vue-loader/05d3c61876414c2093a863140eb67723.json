{"remainingRequest":"/Users/valentin/Documents/Pro/vuejs-domain-app-scalingo/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/valentin/Documents/Pro/vuejs-domain-app-scalingo/src/components/Login.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/valentin/Documents/Pro/vuejs-domain-app-scalingo/src/components/Login.vue","mtime":1549106965314},{"path":"/Users/valentin/Documents/Pro/vuejs-domain-app-scalingo/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/valentin/Documents/Pro/vuejs-domain-app-scalingo/node_modules/vuetify-loader/lib/loader.js","mtime":1548745995000},{"path":"/Users/valentin/Documents/Pro/vuejs-domain-app-scalingo/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/valentin/Documents/Pro/vuejs-domain-app-scalingo/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["\r    import axios from \"axios\";\r    import store from \"../store\";\r\r    export default {\r        name: \"Login\",\r        data: function (){\r            return {\r                token: \"\",\r                isDisabled: true,\r                error: null\r            }\r        },\r        methods: {\r            submit() {\r                axios({\r                    method: \"post\",\r                    url: \"https://auth.scalingo.com/v1/tokens/exchange\",\r                    auth: {\r                        username: '',\r                        password: this.token\r                    }\r                }).then(response => {\r                    store.dispatch('setToken', response.data.token);\r                    this.$router.push(this.$route.query.redirect || '/');\r                }).catch(e => {\r                    this.error = \"Wrong token, please try again.\";\r                })\r            },\r           // tk-us-7yDhFTXx8TNc4pmvYnHchM_qPnB7j_Rw8ySyz5K3o_n5cIwp\r        },\r        created() {\r            this.$multiwatch(['token'], function() {\r                this.isDisabled = this.token === \"\";\r            });\r            if (store.state.token)\r                this.$router.push(this.$route.query.redirect || '/');\r        }\r    }\r",{"version":3,"sources":["Login.vue"],"names":[],"mappings":"AAAA","file":"Login.vue","sourceRoot":"src/components","sourcesContent":["<template>\r    <v-container grid-list-xl text-xs-center>\r        <v-layout class=\"center-login\" row wrap>\r            <v-flex xs10 offset-xs1>\r                <img src=\"http://ksol.fr/img/portfolio/scalingo.png\" alt=\"scalingo-logo\"/>\r            </v-flex>\r            <v-content >\r                <v-container fluid fill-height >\r                    <v-layout\r                            justify-center\r                            align-center\r                    >\r                        <v-flex\r                                text-xs-center\r                                xs12\r                                md8\r                        >\r                            <v-form\r                                    ref=\"form\"\r                                    lazy-validation\r                            >\r                                <v-card class=\"card-login elevation-20\" height='100%'>\r                                    <v-text-field\r                                        label=\"Enter your token.\"\r                                        v-model=\"token\"\r                                    >\r                                    </v-text-field>\r                                    <v-card-text\r                                        v-if=\"error !== null\"\r                                        class=\"error-msg\"\r                                    >\r                                        {{ this.error }}\r                                    </v-card-text>\r                                    <v-btn\r                                        :disabled=\"isDisabled\"\r                                        @click=\"submit\"\r                                    >\r                                        Submit\r                                    </v-btn>\r                                </v-card>\r                            </v-form>\r                        </v-flex>\r                    </v-layout>\r                </v-container>\r            </v-content>\r        </v-layout>\r    </v-container>\r\r</template>\r\r<script>\r    import axios from \"axios\";\r    import store from \"../store\";\r\r    export default {\r        name: \"Login\",\r        data: function (){\r            return {\r                token: \"\",\r                isDisabled: true,\r                error: null\r            }\r        },\r        methods: {\r            submit() {\r                axios({\r                    method: \"post\",\r                    url: \"https://auth.scalingo.com/v1/tokens/exchange\",\r                    auth: {\r                        username: '',\r                        password: this.token\r                    }\r                }).then(response => {\r                    store.dispatch('setToken', response.data.token);\r                    this.$router.push(this.$route.query.redirect || '/');\r                }).catch(e => {\r                    this.error = \"Wrong token, please try again.\";\r                })\r            },\r           // tk-us-7yDhFTXx8TNc4pmvYnHchM_qPnB7j_Rw8ySyz5K3o_n5cIwp\r        },\r        created() {\r            this.$multiwatch(['token'], function() {\r                this.isDisabled = this.token === \"\";\r            });\r            if (store.state.token)\r                this.$router.push(this.$route.query.redirect || '/');\r        }\r    }\r</script>\r\r<style scoped>\r    .error-msg {\r        color: red;\r        font-weight: bold;\r    }\r    .center-login {\r        margin-top: 10%;\r        margin-left: 30%;\r        margin-right: auto;\r    }\r    img {\r        width: 60%;\r    }\r    .card-login {\r        padding: 2em;\r    }\r</style>"]}]}